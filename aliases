# Core tools
alias l="exa --all --long --group-directories-first"
alias c="clear"
alias h="history | grep"
alias e="subl"
alias p="ps aux | grep"
alias hh="history"
alias dush="du -sh"

# Git
alias g="git status"
alias gl="git log --graph --decorate --pretty=oneline --abbrev-commit -n 15"
alias gb="git branch --sort=committerdate --format='%(color:red)%(objectname:short)%(color:reset) %(HEAD) %(color:yellow)%(refname:short)%(color:reset) (%(color:green)%(committerdate:relative)%(color:reset))'"

alias zconf="subl ~/.zshrc"
alias zreload="source ~/.zshrc"

alias rake='noglob rake'
alias rails="noglob rails"

# Amplifr
alias dcrun="docker-compose run runner bundle exec"
alias dcup="docker-compose up"

# amplifr_name() {
#   kubectl --kubeconfig ~/.kube/config get pod -n $1|grep Running|grep web|tail -1|awk '{print $1}'
# }

# amplifr_exec() {
#   kubectl --kubeconfig ~/.kube/config exec -it -n $1 $(amplifr_name $1) -- $(echo $2)
# }

alias amplifr_prod_railsc "amplifr_exec 'amplifr-app' 'bundle exec rails c'"
alias amplifr_prod_bash="amplifr_exec 'amplifr-app' 'bundle exec /bin/bash'"
alias amplifr_prod_rr="amplifr_exec 'amplifr-app' 'bundle exec rails r -'"

alias amplifr_stag_railsc="amplifr_exec 'amplifr-staging' 'bundle exec rails c'"
alias amplifr_stag_bash="amplifr_exec 'amplifr-staging' 'bundle exec bash'"
alias amplifr_stag_rr="amplifr_exec 'amplifr-staging' 'bundle exec rails r -'"

alias aprailsc="amplifr_exec 'amplifr-app' 'bundle exec rails c'"
alias apbash="amplifr_exec 'amplifr-app' 'bundle exec bash'"
alias aprr="amplifr_exec 'amplifr-app' 'bundle exec rails r -'"

alias asrailsc="amplifr_exec 'amplifr-staging' 'bundle exec rails c'"
alias asbash="amplifr_exec 'amplifr-staging' 'bundle exec bash'"
alias asrr="amplifr_exec 'amplifr-staging' 'bundle exec rails r -'"
