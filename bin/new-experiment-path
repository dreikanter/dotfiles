#!/usr/bin/env ruby

require "fileutils"

def slugify(text)
  text.downcase
      .gsub(/[^a-z0-9\s-]/, '')
      .gsub(/\s+/, '-')
      .gsub(/-+/, '-')
      .gsub(/^-|-$/, '')
end

exit 1 if ARGV.empty?

experiment_name = ARGV.join(' ')
slug = slugify(experiment_name)
date_prefix = Time.now.strftime("%Y%m%d")
puts "#{date_prefix}_#{slug}"
